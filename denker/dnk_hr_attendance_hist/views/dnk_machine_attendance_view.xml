<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_zk_report_daily_attendance_tree" model="ir.ui.view">
       <field name="name">zk.report.daily.attendance.tree</field>
       <field name="model">dnk.machine.attendance</field>
       <field name="arch" type="xml" >
           <tree string="Attendance"  delete="false" edit="false" create="false">
               <field name="dnk_device_user_id"/>
               <field name="dnk_device_id"/>
               <field name="punch_type"/>
               <field name="attendance_type"/>
               <field name="punching_time"/>
               <field name="punching_time_utc"/>
           </tree>
       </field>
   </record>

    <record id="view_dnk_report_daily_attendance_search" model="ir.ui.view">
        <field name="name">dnk.report.daily.attendance.search</field>
        <field name="model">dnk.machine.attendance</field>
        <field name="arch" type="xml" >
            <search string="Hr Attendance Search">
                <field name="dnk_device_user_id"/>
                <separator/>
                <filter name="today" string="Today"
                  domain="[('punching_time', '&gt;=', datetime.datetime.now().replace(hour=0, minute=0, second=0)),('punching_time', '&lt;=', datetime.datetime.now().replace(hour=23, minute=59, second=59))]" />
                <filter string="Current Month" name="current"
                  domain="[('punching_time', '&gt;=', datetime.datetime.now().strftime('%Y-%m-01'))]" />
            </search>
        </field>
    </record>

    <record id="action_zk_report_daily_attendance" model="ir.actions.act_window">
      <field name="name">Attendances Analysis</field>
      <field name="res_model">dnk.machine.attendance</field>
      <field name="view_mode">tree,form</field>
      <field name="context">{'search_default_my_attendance':1}</field>
      <field name="search_view_id" ref="view_dnk_report_daily_attendance_search" />
    </record>

    <menuitem id="menu_zk_attendance_view" name="Attendance log"
      action="action_zk_report_daily_attendance" parent="zk_machine_menu"
      sequence="2" groups="hr_attendance.group_hr_attendance_user"/>
</odoo>
